<!doctype html><html class=no-js lang=zh-cn><head><meta name=generator content="Hugo 0.139.3"><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=X-UA-Compatible content="IE=edge"><title>Haisheng Wu's Tech Blog</title>
<script>(function(e,t){e[t]=e[t].replace("no-js","js")})(document.documentElement,"className")</script><meta name=description content="This is Haisheng Wu's Tech Blog"><meta property="og:url" content="https://redscarf.me/"><meta property="og:site_name" content="Haisheng Wu's Tech Blog"><meta property="og:title" content="Haisheng Wu's Tech Blog"><meta property="og:description" content="This is Haisheng Wu's Tech Blog"><meta property="og:locale" content="en"><meta property="og:type" content="website"><meta itemprop=name content="Haisheng Wu's Tech Blog"><meta itemprop=description content="This is Haisheng Wu's Tech Blog"><meta itemprop=datePublished content="2024-11-30T22:15:32+10:00"><meta itemprop=dateModified content="2024-11-30T22:15:32+10:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Haisheng Wu's Tech Blog"><meta name=twitter:description content="This is Haisheng Wu's Tech Blog"><link rel=stylesheet href=/css/style.css><link rel=stylesheet href=/css/custom.css><link rel=alternate type=application/rss+xml href=/index.xml title="Haisheng Wu's Tech Blog"><link rel="shortcut icon" href=/favicon.ico></head><body class=body><header class=header><div class="logo logo--mixed"><div class=container><a class=logo__link href=/ title="Haisheng Wu's Blog" rel=home><div class="logo__item logo__imagebox"><img class=logo__img src=/logo.png></div><div class="logo__item logo__text"><div class=logo__title>Haisheng Wu's Blog</div><div class=logo__tagline>Tech Blog</div></div></a></div></div></header><div class=divider></div><div class="container wrapper flex"><div class=primary><main class="main list" role=main><header class=main__header><h1 class=main__title>Haisheng Wu's Tech Blog</h1></header><article class="list__item post"><header class=list__header><h2 class="list__title post__title"><a href=/economy-fp-hsbc/ rel=bookmark>付鹏11月24日在HSBC内部演讲速记</a></h2><div class="list__meta meta"><div class="meta__item-datetime meta__item"><svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0C7 0 1 6 1 14s6 14 14 14 14-6 14-14S23 0 15 0zm0 25C9 25 4 20 4 14S9 3 15 3s11 5 11 11-5 11-11 11zm1-18h-2v8.4l6.8 4.4L22 18l-6-3.8V7z"/></svg><time class=meta__text datetime=2024-11-30T22:15:32+10:00>2024-11-30</time></div><div class="meta__item-categories meta__item"><svg class="meta__icon icon icon-category" width="16" height="16" viewBox="0 0 16 16"><path d="m7 2 1 2h8v11H0V2z"/></svg><span class=meta__text><a class=meta__link href=/categories/news/ rel=category>News</a></span></div></div></header><div class="content list__excerpt post__content clearfix"><p>《2024年年终回顾和2025年展望——对冲风险VS软着陆》</p><p>上篇</p><p>正值年底，虽然刚才汇丰一直强调大家不录音不录像，但大概率你挡不住。我在这儿讲话会谨慎一些，非常小心谨慎，大概率会有人透露出去，放到YouTube上，基本上所有见我都说付总我在YouTube上看过你的视频，我说那都是盗版的，靠盗版发财的也不少。</p><p>今天和大家分享的内容基本上都是官方的，回顾会多一点，展望不多，因为这个月展望完了之后下个月怎么办？有些话对我来讲我倒觉得很简单，本质上原来我们是做Hedge Fund出身，所以我们的逻辑框架整体具有极强的延续性，不是说今年去讨论，或者说明年去讨论。</p><p>惯性思维从2016年开始，我一直在跟大家强调这个世界已经完全不一样了。当然经历过过去的几年时间，我相信在座各位应该对这番话的理解变得越发深刻。</p><p>2016年实际上是美国特朗普的第一次大选，我有一个特点，我的特征是如果我觉得什么地方有投资机会，我可能第一时间去一线调研，我不喜欢看YouTube，我也不喜欢在网上扒。当然你会说，现在ChatGPT很强大了，人工智能好像能帮你解决很多问题，但你们有没有想过，可能广泛流传或者广泛传播的很多信息是错的。这一点在2012年当时我从日本做完调研回来之后，我的感悟是最深的。</p><p>当然去日本有一个重要的人物，名字叫本森特，很快大家就会非常熟悉他的，目前来讲应该是特朗普政府提名的美国财长。本森特原来是索罗斯基金实际掌控人，因为索大爷已经年龄很大了，去年的时候才刚刚把基金的业务交给他儿子亚历山大，但在这之前，最主要的几场战役本质上来讲都是本森特在主导。</p><p>2012年当时我从北京去香港约朋友们吃饭的饭局上，当时斯索罗斯基金在香港办公室跟我说，本森特从这儿去了日本。我说OK。我经常说一句话“站在巨人的肩膀上看问题。”</p><p>当然你知道，网民们最可怕的地方是巴菲特“SB”、索罗斯“SB”，我最“牛逼”。你要记住，他们的所有行为一定有很大的变化，很多人可能都不知道，巴菲特第一次去是2011年，我们正在讲福岛核电站泄漏，核废水污染以后海鲜不能吃的时候，一个80多岁的老头顶着核辐射泄漏去日本吃海鲜了，当然他去日本干吗，这其实很关键。</p><p>之后我们跑到日本做完调研回来之后那几年，我陆陆续续跟很多人讲，日本正在发生变化，日本的利率结构都会随之变化的，当然包括日本的证券市场。今年日本股市终于走出这35年了，创下了历史性纪录。</p><p>但网上很多人还在说，我从经济数据里好像没看出什么状况来，这就是我们说的“信息差”，因为有时候你知道人的理解，对社会的理解，对经济的理解带有惯性思维。前几年我经常普及的一点是关于日本的理解，很多人总在想经济增长，有没有一种可能性经济不增长也很爽呢？比如说中国过去三四十年改革开放之后我们习惯的就是经济要增长，经济不增长我们就很难过，你有没有想过一种不增长还会把蛋糕吃多的方法呢？答案是分配，你怎么老想着分工、努力、工作、干活儿、挣钱、增长，有没有另外一种可能性是进行再分配？</p><p>你对日本的理解为什么要增长？用我的话说在过去30年的时间里保持着这块蛋糕没有变，但现在远端利率抬起来的根本原因是因为年轻人可以吃多了，年轻人为什么可以吃多了？你们知道2012年日本的死亡数据是什么吗？你有注意过他的人口结构变化吗？到了今天为止，你突然之间发现日本现在招聘怎么会是应聘的在下面坐着，招聘的在上面站着？放心，中国现在不是招聘的问题，是HR砍人的问题，这种变化的根因到底来自于什么？其实很多人只是惯性思维，你不一定能看懂世界。</p><p>过去40年已经发生翻天覆地的变化了，从2016年开始，中国也不再是过去40年的中国，美国也不再是过去40年的美国，日本也不再是过去40年的日本，东南亚也不再是过去40年的东南亚，你资本运转的逻辑框架都在发生着巨变，而这种时刻下，如果你保持着过去的思维，你并不能理解我在讲什么。</p><p>我只能说，大家一切看缘分，我不需要完全说“付总在胡说，我并不认同”，无所谓的，你能听懂你就听懂，你能早理解你就早理解，早理解你就能顺着这条线Get到2016年之后世界发生的巨变。</p><p>最新的美国大选，特朗普重新上来，但这次上来跟2016年又不一样了，因为他比2016年变的更加右翼化了，2016年大的政治转变本质上就是逆全球化和右翼化。2016年我把我自己的书稿整理过一版，当年也没空没时间把这个东西出版，去年因为我们家孩子回来以后做了传媒公司，原则上来讲我就把书稿送给他作为传媒公司的一部分出版业务去做，这就是大家后来见到的《见证逆潮》。但这本书不完整，全文将近70万字，你们拿到手的只有50万字，中间差不多有20万字被删减掉了，这20万字其实非常关键，涉及到我们对世界大类资产顶层逻辑的核心框架，金字塔究竟是什么？底层是我们的所有资产和市场，市场其实是在框架中最底层的，大家天天想问的房价的上涨、股票价格，这实际上是金字塔中最底层的。</p><p>稍微往上一点有人说宏观经济很重要，尤其是中国2008年次贷危机结束之后，中国的投资人开始发生巨变，2008年金融危机之前，中国大部分投资人讲的是“擒龙大法”，如何抓涨停。但2008年的次贷危机，全球的冲击使得很多从事金融交易、资产交易的人开始意识到，原来全球金融市场是这样的，是联动的。自那一刻起，真正意义上的金融才开始在中国慢慢生根发芽。</p><p>稍微有人开始意识到宏观经济的重要性，当然像现在证监会的首经团队中，36个首经里，我一直说我是那个最不正经的，因为我又不是搞学术的，我也不是搞政府出身的，我是市场一线的，我们对很多问题的理解是完全不同的。</p><p>前两天的时候，在Fox News上，本森特和几个诺贝尔经济学家在那儿争吵关于关税作用的时候，你就突然间发现，一个站在市场角度上的人理解关税作为一个手段到底起到什么样的作用，和那帮老学究们去讲的，甚至跟在座各位在新闻联播上看到的关税描述“美帝国主义打关税，使得老百姓生活在水深火热中”，你会发现好像你聪明点的话就知道好多东西并不对，这就是差异性。这次特朗普组成的第一是实权派，第二是通杀了，可以理解右翼化已经完全没有牵制了，第三上来的全是实干派。你猜后面的结果是什么？这场仗可不好打，比2016年那一届还难拿。</p><p>再往上是什么呢？有人说终于讲到了政治，没错，再往上是政治，民主党、共和党、全球政治的变动。但再往上的顶层，金字塔的最核心是什么东西？实际上是意识形态。</p><p>我教很多研究员说你们在研究世界经济的时候别盲目地做简单的对比，我估计很多研究报告都会犯这样的错误，动不动就做对比，和70年代、80年代做对比，这种对比纯粹写报告凑字数的，换成我的角度，我都不会看完直接撕了就扔垃圾桶了，我其实挺心疼这些券商研究员的，为什么呢？是个事儿就得写个报告，写个报告就得好几万字，好辛苦，结果还没人看。</p><p>顶层断代，也就是大家经常讲的周期性的断代到底是什么？你记住一点，顶层的断代是意识形态，社会政治的发展本质上是群体性意识形态的周期，也就是大家学过的思想政治课中的“左”和“右”，左倾右倾、左派右派、左翼右翼、集体个体，这些东西的变动才是世界经济周期的最大变动。</p><p>当前是什么？大领导讲的那句话很对，百年之未有大变局（百年未有之大变局），基本上就是1929年大萧条到二战后完整一个周期的结束。全球从二战的极端右翼，慢慢发展到中右，再偏向中左，再到差不多这20年左右的极端左翼化，最终导致重新开始右翼，这个世界很有意思，没有任何方向是绝对正确的。</p><p>我一直告诫大家，你们不要在网上争吵，我站在左边，你站在右边，PK，非得讨论出谁最牛逼，谁最正确，没有。就好像你想找个女朋友，又漂亮，腿又长，胸又大，腰又细，还有钱，还特别爱你，你想多了，挑一样就行了，完美主义哪儿有？最终的结果就是在运动的过程中对政治造成影响，进而对经济造成影响，进而对金融市场造成影响，一定记住金字塔的逻辑。</p><p>大部分时间我们不用Care顶层，因为在过去百年，顶层的方向是固定的，就是从极端右翼不断向左翼在运动，所以顶层方向不变的情况下就会形成下面的一套运转逻辑。</p><p>比如说以美国为代表，你们应该看到Ray Dalio关于债务危机的那本书，里面有个利率曲线，二战前我们的利率就是0，到80年代利率达到顶峰，2008年次贷危机到疫情期间利率再次达到0。利率的低点到底是什么意思？为什么在过去的百年历史里，利率的低点总是战争的起点？是有原因的，因为利率的本质实际上就是贫富差距，利率越低的时候，贫富差距越大的，利率越高的时候，贫富差距越小的。</p><p>当然，我们每个人都是屁股决定脑袋，比如大家手上拿着一堆金融资产，拿着一堆杠杆，我可以告诉你，你永远高呼的是低利率是对的，就好像大家对于美国的理解一样，永远认为美国在过去的40年的逻辑就是不能加息，加息就崩溃，崩溃就降息，利率永远是低的，美元永远是Carry的借贷方，但你从来没有想过这个逻辑会变的。</p><p>几年前我跟很多人讲的时候，我说你记住一点，中国从高利率变低利率，海外从低利率变高利率，所谓的几毛档还动不动说付总说了高利率是多少，4-5都是高利率。低利率是多少？0、1、2有多大区别吗？没有的，这是关键的点。有人说非得纠，把我的话直接变成了付总说的，中国不会加息，永远降息，美国永远加息不会降息，降一点加一点，加一点降一点，这不很正常吗？比如特朗普上来了，明年有没有另外一种意外性呢？比如说降了50，降了25，大概回到4.75，5的水平了，突然间又抬回到5.25了，这不正常吗？4和5的纠结不重要，重要的是他不会再回到0、1、2了，这是很关键的。</p><p>对于劳动力来讲，利率是很关键的，如果利率的抬升来自于劳动收入的增长，这是好事情。你想想中国，你把时间拨回到20年前，利率高不高？那时候你难受吗？不难受。现在利率低不低？低，你难受吗？你难受。为什么？所以你要知道是通过劳动获得收入还是通过资本杠杆获得收入的，你对利率的感觉完全是反的。</p><p>但是整体社会去讨论贫富的时候，贫富主要讨论来自于劳动价值，简单讲，天天外面送外卖跑滴滴的，他们就是失去的一代，在过去的二三十年里，靠劳动力的就是被淘汰的一代，没办法，这是社会发展的必然结果。但是当这种矛盾压力大了，就会转化成社会矛盾，甚至可以通过选票转化成对政治的影响，对意识形态的影响。所以贫富到极端的时候一定会进行修正，无论是极左的贫富还是极右的贫富，都会最终产生矛盾，这就是社会运转的规律。</p><p>过去百年发生的这一轮大周期就是完整的周期，到2016年表面上看叫中美贸易战，表面上看是中美两个大国之间所谓的对抗和博弈，其实是全球各个国家内部的矛盾展示，对内是内部的分配，对外是外部的分配。在这个背景下，战争的风险将加大。</p><p>前两天，我们也看到了，人类历史上第一次使用了洲际弹道导弹，无非就是前面没挂核弹头而已，仅此。你觉得这个东西离你还很远吗？我们这一代可以说是幸福的一代，但我们这一代也将经历不常见的百年之未有大变局了。</p><p>很多人在思考这个世界的时候，真的不要以为我们现在还能回到过去，回不去了，那个全世界包容融合的，不断左翼化推进的，全球化不断推进的路径，这个时代彻底在2016年已经开始结束了。</p><p>2016年很多人判断是错误的，总觉得2016年只是一场贸易战，那时候我从华盛顿调研两周回来以后，我跟很多人讲，不是贸易战，不是说哪个党派，民主党、共和党上来对中国就会温和的，不会的，两党的共识，他两者之间只存在着我比你左一点，我比你右一点，但咱俩都是往右的。美国政治的变化核心在于不管民主党和共和党，对中国的压力都是一样的，只不过是他俩谁压力多一点谁压力少一点，谁在外交上压力多一点，谁在经济上压力多一点，仅此而已。</p><p>对中国来讲现在也麻烦，在过去的80年代、90年代，西方在不断包容融合右翼化，同时当时的中国也在不断地往右走，当然此处不是指的中国的右倾。注意西方右翼概念和中国完全反的，你们不要觉得是错误的，如果你觉得错误的，你先了解了解什么是左派右派、左倾右倾、左翼右翼。如果你不能理解这个东西，你肯定对左和右在中国和西方的框架里完全是颠倒的。</p><p>中国也是朝着包容、融合的，所以我们才有了非常好的入市、WTO、改革开放等一系列的操作。我经常说家庭中女生是天生右翼，右翼有一个典型特征，右翼可以叫民粹，可以叫国家主义，可以叫爱国主义，极端右翼可以叫纳粹。但右翼的特征很明显，“我没错，都是你的错”，这就是右翼。</p><p>家庭中女同志天生带有，当然我不是歧视各位女士，这是你们DNA里带的，两个X里带的，如果家庭中男生是左翼，家庭是幸福的，什么意思呢？“老婆，没事儿没事儿，都是我的错”，男生是个左翼，家庭很好，左+右。</p><p>如果男女都是左翼，这简直是幸福无比了，男生回家了，女生把拖鞋一放说“老婆你打会儿游戏，我正做饭呢，一会儿做好了叫你洗手吃饭”，这个男同志真的去打游戏了，吃完饭了说“你歇一会儿，看会儿剧，我来把碗洗了。”你可千万别当个大直男，锅一甩又去玩儿了，不行，时间长了，她会右翼化的。</p><p>此时你也表现出左翼特征，你家庭就是融合的。家里如果两个右翼就完蛋了，都是你的错我没错，凭什么说是我的错？就是你的错，就是你做错了。直男碰上女生，一般来讲没啥好组合，两个右翼就是战争，打架到离婚。</p><p>不要认为这是在讨论家庭、婚姻，同样在讨论国家，同样在讨论全球。当国家和国家之间的组合出现统统左翼化的时候，就是包容、融合、全球化共同增长的俱佳的历史环境，当全是右翼化的时候，就是战争。</p><p>我们现在的大麻烦在哪儿？就在这儿。全世界在过去5、6年时间里已经陆陆续续都在右翼化了，右翼化的特征，政治的重要性已经体现出来了，选票回归传统的特征已经体现出来了，反移民的特征已经体现出来了。</p><p>我之前说过，这两年全球著名的交易就是“多美国，空加拿大”，原因就是加拿大的小土豆放了那么多印度裔进来，就完蛋了，加拿大的核心矛盾是什么？经济增长创造了五个蛋糕，原本加拿大的国民可以一人吃一个，现在放了10个阿X进来，加拿大问题是分配，当分配不够的时候，一定会趋于保守，一定会趋于右翼化，一定会趋于反移民。</p><p>各国都一样，70年代80年代的时候，英国那时候有过排华，现在又开始反穆斯林了，这正常。世界的动荡不是简简单单表现在单纯的资产上，前两天英国又出台了新的政策，你只要非英国国民的，原则上来讲要交遗产税的，英国政府也要收你的遗产税。我之前跟很多富人说，别天天琢磨避税了，包容融合的时候藏点私房钱是没事儿的，当都右翼化的时候，你再藏私房钱你就完蛋了，现在全世界的大麻烦是什么？找个税率低的地方该缴的缴。当年特朗普上来的时候20%只要你愿意回流美国，全部合法化，你看有多少资本往回回流？所以你们知道左翼和右翼大概的框架和特征，这才是我那本书里的真正精髓，但被删掉了。</p><p>你把它理解了，你对应的穿透到经济上，穿透到利率上，穿透到资产上，你会门清儿的，这就是大类资产的精髓，真正的精髓。你要问这东西谁创造的，索罗斯那批人，本森特那批人，整体框架大家都是一样的。</p><p>我到底在讲什么？其实我就是在讲回顾，因为从那一刻开始，几个问题就在陆陆续续暴露。美国在进行重构，特朗普上来以后方向继续重构，这里面其实就涉及到民主党为什么是错的，民主党的很多政策为什么是极端左翼，左翼政策不一定是对的，右翼为什么会使得美国进入到增长通胀利率的环境。</p><p>包括有些华人带有意识形态，我只能说一句话，我们作为全球投资人，最佳的选择是没有任何意识形态，对我来讲，我非常清楚左有左的问题，右有右的问题，左有左的好处，右有右的好处，我不会站在任何一侧。我的答案是全世界选择往左走，我就知道我的交易路径是什么，全世界选择往右走，我也同样知道我的交易路径是什么，但我绝对不会站队说谁是绝对正确的，否则的话就会压错宝。世界有时候不一定按照我们的意识走，美国的这次大选也是典型的结果，其实我也没想到，美国右翼化的速度会这么快，推进速度会如此迅速。本来想的是民主党还能够撑一撑，但现在来看基本上是完败的。</p><p>对于中国来讲，当前我们面临的问题不仅仅是外患的问题，还包括了内忧。综合在一起，会有一个非常奇特的答案，之前很多人问我中国到底和日本一不一样？网上这句话炒的纷纷扬扬的，有人说中国就是会走日本的老路，有人说中国不会走日本的老路，你要问我正确的答案，我会告诉你这个问题没有任何意义，为什么？太泛了，如果拆的细一点我能回答你。比如你要问中国的居民部门和日本的居民部门一不一样？我的答案是一样；中国的企业部门跟当年日本的企业部门一样不一样？我的答案是不一样；中国的政府部门和当年日本的政府部门一不一样？我的答案是不一样；中国的金融机构跟当年日本的金融机构不一样？不一样；中国当前面临的国际环境和当时90年日本面临的国际环境一不一样？不一样。</p><p>你说最后的答案是什么？如果站在纯居民角度来讲，我可以告诉你99.99%可以复刻，但如果站在大的国际环境上来讲，可能得到的是完全不同于日本的最终答案。用我的话说，你是说一样还是不一样呢？没有意义。</p><p>所以我大部分时间给你们分拆的是日本居民部门和中国居民部门的比对。而日本的企业部门、金融部门、发展模型我也给大家分享过，去年你们应该都知道了，巴菲特买三井、三菱、丸红、伊藤忠商社，大笔发行日元债券购入到日本的三井、三菱、丸红、伊藤忠这些资产中，他到底在干吗？</p><p>那时候第一财经找我说付总你去讲讲巴菲特为什么买，我发现很多评论人员单纯在讲三井、三菱、丸红、伊藤忠资产怎么样，稍微聪明点的会讲到当年的商社们是日本的海外资产，是日本Carry trade套息交易的主要收入端。再聪明一点的会讲到巴菲特在参与日本过去40年存量财富的再分配。</p><p>我可能明年把我们家小儿子送到日本去，我跟他讲的很清楚，我不需要你去学习人工智能、AI，为啥呢？你好像没那么聪明，也不是IT技术男，你把日语学好，能考上应庆就不错了，那里面都是一些日本传统贵族的姑娘，你娶一个就行了，最好她们家都是80岁90岁的，你就躺赢就行，等她们家80岁90岁的明后年一挂，房是你的，股权是你的，土地是你的，财富是你的，存款是你的，咱们就参与日本存量40年财富再分配。巴菲特是用钱去参与，我们用人参与，本质上都一样，你买股票，我把儿子嫁过去，这都是参与财富存量分配。</p><p>你们要明白日本的核心究竟是什么？日本的核心是参与分配，而不是参与增长。很多人不太理解，因为他在国内没参与过分配，永远都是增长处在哪个环节，我距离权力近一点，资源近一点，资本近一点，我就多吃点，卖劳动力的就少吃点。当经济增长增速不够的时候，最底层就没饭吃了。经济增长5，可能各个阶层的体感是完全不同的，所以网上会有些人说经济数据造假，真的造假了吗？也许没有。5代表的是整体的蛋糕，而你的体感仅仅代表你的阶层。</p><p>在过去几年中国经济的调研中，我们到底做对了什么？</p><p>《2024年年终回顾和2025年展望——对冲风险VS软着陆》 中篇</p><p>在过去几年中国经济的调研中，我们到底做对了什么？</p><p>第一，在2020年疫情后，那时候长白山论坛我跟大家讲的很清楚，我说的非常赤裸裸，中国居民资产负债表出现问题，那时候券商们都很Happy，因为他们永远需要Happy，只能做多。但对于我们做Hedge Fund出身的来讲，我可不能这么做，我这么做我就完蛋了，我的钱在里头。10月8日之后，有人在里头吗？千万别自己麻醉自己，那都扯淡。网上一般来讲，拿所谓的这种东西蒙蒙别人可以，你自己信了就完蛋了，就跟当时“6000点不是梦，1万点刚起步”，记住那话是说给散户听的，你信了那你就完了。核心是什么？从我们的角度非常明确地大家，大家的预期很高，但现实很残酷。</p><p>那两年跟各家公募基金每个季度做交流的时候，他们没法去理解现在的经济情况，比如说那时候我跟他们讲网约车司机、外卖，那两年我大量的调研样本参数是底层。经济增长消费扩张升级的时候，调研样本是富人先进五星级酒店，富人先买超跑，富人先吃海鲜，然后你的样本参数是下沉的，到最后是老百姓吃上海鲜，老百姓开上汽车，老百姓进五星级酒店。</p><p>但是当经济收缩的时候，倒过来的，第一步先收缩的是底层。我前几年我说每年现在新增几千万的网约车司机，你们都没有想想人从哪儿来的吗？有人说了，农村劳动力进城，我说都啥年代了，还农村劳动力进城，这又不是你当年搞大规模基建城镇化建设的时候缺农民工，把农村劳动力大规模转移过来。现在的农村你去看看，哪儿还有劳动力，除了老弱病残幼以外，还有劳动力吗？你就没想想这两年突然激增的两千万的网约车司机这些人从哪儿来的？答案很简单，中产阶级的陨落。只不过是你的阶层不一样，你看的问题不一样。</p><p>很多人的调研很有问题的，很多人说美国通胀导致美国居民部门水深火热，我问他为什么？他说你看我打电话问了我在美国的朋友，他们都很惨。我说那你美国朋友的样本是个什么状态？他一描述，我说那当然惨了，他们以前爽的时候是老公在中国挣着通胀的钱，老婆在那边花着通缩的钱，享受着社会福利保障体系，还不交税。现在倒过来变成了老公在国内挣不着钱了，海外人家上门给你弄个草皮清理一下要多收你50美金一小时，你的钱没增长，花的钱多了，你当然难受。我要是那个铲草皮的，我会告诉你那点通胀算个屁，5块钱的三明治涨到7.5元，翻了50%，对我来讲不重要，重要的是我从你们家弄个草皮，挣50多一个小时，劳动价值提升了。从事劳动的人就很舒服，从事单纯支出的人来讲你就难受了。</p><p>你要调研的样本是一样的，前两年的样本收缩的是时候是底层先吃苦，但对宏观经济数据影响不大，你们记住一点。</p><p>我就说网约车司机，如果你在广州做调研，他们的特征就是有钱没钱，今天都吃龙江猪脚饭。但注意，北京北四环的网约车司机吃的中午盒饭到多少钱吗？15块钱送瓶水，还带锅包肉，猪肉炖粉条子，耙子肉，嘎嘎香。但你记住一点，千万别问肉多少年，问你就吃不下了，因为基本上都是80年陈酿拉菲，一定是冻肉，一定是冻了20年、10年以上的肉，不然怎么那么便宜。所以你们也不要瞧不起预制菜，我觉得预制菜很好，没有预制菜老百姓日子更苦，有预制菜老百姓好一点，为啥？12块钱能吃饱，还能吃上肉，吃上足够的蛋白质。</p><p>你就记住一点，当你都吃12块钱了，你还注意肉多少年吗？现在统计中国在讲需求的时候很有意思，我从来不会用一个数字，从来不会用中国的CPI，中国的CPI一直有一个大的问题，当年宏观经济数据设立的时候中国老百姓第一目标是解决吃穿，解决温饱，所以对我们来讲，物价中的菜价、猪肉价格、粮食价格、油价波动，我们看的比天都大。</p><p>那时候一般来讲，领导们下去做慰问的时候，第一件事儿都是去家里掀锅，动作都很标准，打开锅看看你吃啥，这个动作其实就是因为当年我们的重要问题是解决老百姓的吃穿住行，所以我第一件事情就关注你吃的情况。但改革开放下来以后，到现在为止，吃如果都成问题，那就是大问题了。</p><p>为什么不用数据？因为数据中这部分的波动很大，这部分的波动已经跟需求没关系了。比如说城市里洪涝，那蔬菜价格那几天就会暴涨，那种变动其实影响已经不重要了。我们现在讲需求，比如中国经济从2019年获得大问题，非常麻烦，你们不要觉得现在的经济问题是现在，是2019年就开始了，在今年是恶化的，所以今年的情况你们都不知道有多严峻，数据里已经告诉你，非常严峻，而在调研的时候更严峻。</p><p>8、9月份的时候，必须转向，那时候很多人不理解，因为过去的一年大家都养成了一种习惯，这也是右翼化的特征，右翼化的特征就是我没错都是你的错，我不许你说我错。你想想，家里的老婆你敢说她错吗？到最后男生就是出门抽烟，不吭。</p></div><div class="list__footer clearfix"><a class="list__footer-readmore btn" href=/economy-fp-hsbc/>阅读全文…</a></div></article><article class="list__item post"><header class=list__header><h2 class="list__title post__title"><a href=/db-dynamic-column/ rel=bookmark>数据库的动态列</a></h2><div class="list__meta meta"><div class="meta__item-datetime meta__item"><svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0C7 0 1 6 1 14s6 14 14 14 14-6 14-14S23 0 15 0zm0 25C9 25 4 20 4 14S9 3 15 3s11 5 11 11-5 11-11 11zm1-18h-2v8.4l6.8 4.4L22 18l-6-3.8V7z"/></svg><time class=meta__text datetime=2023-07-25T20:17:32+10:00>2023-07-25</time></div><div class="meta__item-categories meta__item"><svg class="meta__icon icon icon-category" width="16" height="16" viewBox="0 0 16 16"><path d="m7 2 1 2h8v11H0V2z"/></svg><span class=meta__text><a class=meta__link href=/categories/db/ rel=category>DB</a>, <a class=meta__link href=/categories/tech/ rel=category>Tech</a></span></div></div></header><div class="content list__excerpt post__content clearfix"><h1 id=动态列的几种设计思路>动态列的几种设计思路</h1><p>在需求开发过程中，我们有时会遇到一种场景：某个具体业务中的属性是动态的。在理想情况下，我们可以使用穷举法对所有可能的属性进行分析，然后进行分类，最终形成一套解决方案。然而，现实往往是骨感的，Leader和客户通常不会给我们这个时间。因此，我们需要探讨一些更为实际的解决方案。</p><h2 id=一使用数据库ddl进行动态创建>一、使用数据库DDL进行动态创建</h2><p><strong>优点：</strong></p><ol><li>操作简单，只需通过SQL管理即可实现。</li></ol><p><strong>缺点：</strong></p><ol><li>不同情况下的动态字段增加会导致表结构膨胀。</li><li>在已有数据的表中修改字段容易导致锁表，影响性能。</li></ol><h2 id=二使用数据库预留字段>二、使用数据库预留字段</h2><p><strong>优点：</strong></p><ol><li>与数据库无关，对业务侵入性小。</li></ol><p><strong>缺点：</strong></p><ol><li>扩展性差，超出预留字段范围后如何处理新字段？</li><li>可读性差，预留字段通常为<code>attr1</code>、<code>attr2</code>等，影响字段的可读性。</li><li>性能较低，为兼容多种数据类型，预留字段通常采用较长的文本数据类型存储，影响数据库性能。</li></ol><h2 id=三使用数据库中的json数据类型>三、使用数据库中的JSON数据类型</h2><p><strong>优点：</strong></p><ol><li>使用简单，绝大多数编程语言都支持JSON操作，方便快捷。</li><li>对于MySQL或PostgreSQL等数据库，已原生支持JSON字段，可基于JSON进行扩展查询。</li><li>JSON采用<code>key:value</code>形式存储数据，可避免字段可读性差的问题，通过规范命名提高可读性。</li><li>扩展性高，增加或删除字段实现简单，直接移除<code>key</code>即可，不影响表性能。</li></ol><p><strong>缺点：</strong></p><ol><li>JSON字段查询操作与普通字段稍有差异，有一定复杂度。</li><li>JSON字段的索引性能有待提高。</li></ol><h2 id=四使用nosql数据库>四、使用NoSQL数据库</h2><p><strong>优点：</strong></p><ol><li>采用MongoDB等JSON数据库，可以快速扩展。</li><li>专业数据存储，查询等性能可针对优化，性能高。</li></ol><p><strong>缺点：</strong></p><ol><li>需要一定的学习成本。</li></ol><p>综上所述，第一种和第二种方案若非必要，不建议采用。第三种方案在中小项目中能应对绝大多数需求。如果存储的数据较多且性能要求较高，可以考虑采用第四种方案或第三、四种方案相结合。</p><hr><h1 id=支持动态列的数据库>支持动态列的数据库</h1><h2 id=mariadb>MariaDB</h2><p>通过创建BLOB列（最大64k？），可以使用<code>mariadb-dynamic-columns</code>实现动态列。</p><h3 id=示例>示例：</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#66d9ef>CREATE</span> <span style=color:#66d9ef>TABLE</span> items
</span></span><span style=display:flex><span>(
</span></span><span style=display:flex><span>    id INT <span style=color:#66d9ef>NOT</span> <span style=color:#66d9ef>NULL</span> <span style=color:#66d9ef>PRIMARY</span> <span style=color:#66d9ef>KEY</span> AUTO_INCREMENT,
</span></span><span style=display:flex><span>    name varchar(<span style=color:#ae81ff>100</span>) <span style=color:#66d9ef>NOT</span> <span style=color:#66d9ef>NULL</span>,
</span></span><span style=display:flex><span>    attributes BLOB
</span></span><span style=display:flex><span>);
</span></span></code></pre></div><ol><li><strong>插入数据时使用特定函数（<code>COLUMN_CREATE</code>）指定动态列的数据结构，<code>key/value</code>形式：</strong></li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#66d9ef>INSERT</span> <span style=color:#66d9ef>INTO</span> items (name, attributes) <span style=color:#66d9ef>VALUES</span>
</span></span><span style=display:flex><span>(<span style=color:#e6db74>&#39;MariaDB t-shirt&#39;</span>, COLUMN_CREATE(<span style=color:#e6db74>&#39;colour&#39;</span>,<span style=color:#e6db74>&#39;blue&#39;</span>, <span style=color:#e6db74>&#39;size&#39;</span>,<span style=color:#e6db74>&#39;XXL&#39;</span>)),
</span></span><span style=display:flex><span>(<span style=color:#e6db74>&#39;MariaDB t-shirt&#39;</span>, COLUMN_CREATE(<span style=color:#e6db74>&#39;colour&#39;</span>,<span style=color:#e6db74>&#39;blue&#39;</span>, <span style=color:#e6db74>&#39;size&#39;</span>,<span style=color:#e6db74>&#39;XL&#39;</span>)),
</span></span><span style=display:flex><span>(<span style=color:#e6db74>&#39;Samsung Galaxy S5&#39;</span>, COLUMN_CREATE(<span style=color:#e6db74>&#39;colour&#39;</span>,<span style=color:#e6db74>&#39;white&#39;</span>, <span style=color:#e6db74>&#39;OS&#39;</span>, <span style=color:#e6db74>&#39;Android&#39;</span>, <span style=color:#e6db74>&#39;type&#39;</span>, <span style=color:#e6db74>&#39;phone&#39;</span>)),
</span></span><span style=display:flex><span>(<span style=color:#e6db74>&#39;Samsung Galaxy Pro 3&#39;</span>, COLUMN_CREATE(<span style=color:#e6db74>&#39;colour&#39;</span>,<span style=color:#e6db74>&#39;white&#39;</span>, <span style=color:#e6db74>&#39;size&#39;</span>,<span style=color:#ae81ff>8</span>, <span style=color:#e6db74>&#39;OS&#39;</span>, <span style=color:#e6db74>&#39;Android&#39;</span>, <span style=color:#e6db74>&#39;resolution&#39;</span>,<span style=color:#e6db74>&#39;1920x1200&#39;</span>, <span style=color:#e6db74>&#39;type&#39;</span>,<span style=color:#e6db74>&#39;tablet&#39;</span>));
</span></span></code></pre></div><ol start=2><li><strong>查询时使用<code>COLUMN_JSON</code>函数，返回JSON格式的数据：</strong></li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#66d9ef>SELECT</span> name <span style=color:#66d9ef>AS</span> Item,
</span></span><span style=display:flex><span>COLUMN_JSON(attributes) <span style=color:#66d9ef>AS</span> <span style=color:#e6db74>&#39;Dynamic Columns&#39;</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>FROM</span> items <span style=color:#66d9ef>LIMIT</span> <span style=color:#ae81ff>1</span>;
</span></span></code></pre></div><ol start=3><li><strong>使用<code>COLUMN_LIST</code>函数列举列中包含的属性，如<code>colour</code>、<code>size</code>：</strong></li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#66d9ef>SELECT</span> name <span style=color:#66d9ef>AS</span> Item,
</span></span><span style=display:flex><span>COLUMN_LIST(attributes) <span style=color:#66d9ef>AS</span> <span style=color:#e6db74>&#39;Attribute Names&#39;</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>FROM</span> items;
</span></span></code></pre></div><ol start=4><li><strong>查询动态列中具体的某个属性，如<code>colour</code>：</strong></li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#66d9ef>SELECT</span> name <span style=color:#66d9ef>AS</span> Item,
</span></span><span style=display:flex><span>COLUMN_GET(attributes, <span style=color:#e6db74>&#39;colour&#39;</span> <span style=color:#66d9ef>AS</span> CHAR) <span style=color:#66d9ef>AS</span> Colour
</span></span><span style=display:flex><span><span style=color:#66d9ef>FROM</span> items;
</span></span></code></pre></div><h2 id=postgresql>PostgreSQL</h2><p>支持JSON数据类型，相比普通<code>text</code>文本字段类型，JSON数据类型强制要求列中每个存储的值都符合JSON格式规则。</p></div><div class="list__footer clearfix"><a class="list__footer-readmore btn" href=/db-dynamic-column/>阅读全文…</a></div></article><article class="list__item post"><header class=list__header><h2 class="list__title post__title"><a href=/multi-tenant/ rel=bookmark>多租户</a></h2><div class="list__meta meta"><div class="meta__item-datetime meta__item"><svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0C7 0 1 6 1 14s6 14 14 14 14-6 14-14S23 0 15 0zm0 25C9 25 4 20 4 14S9 3 15 3s11 5 11 11-5 11-11 11zm1-18h-2v8.4l6.8 4.4L22 18l-6-3.8V7z"/></svg><time class=meta__text datetime=2023-07-24T19:30:32+10:00>2023-07-24</time></div><div class="meta__item-categories meta__item"><svg class="meta__icon icon icon-category" width="16" height="16" viewBox="0 0 16 16"><path d="m7 2 1 2h8v11H0V2z"/></svg><span class=meta__text><a class=meta__link href=/categories/web/ rel=category>Web</a>, <a class=meta__link href=/categories/tech/ rel=category>Tech</a></span></div></div></header><div class="content list__excerpt post__content clearfix"><h1 id=多租户软件架构概述>多租户软件架构概述</h1><h2 id=多租户软件架构简介>多租户软件架构简介</h2><p>在多租户软件架构中，一个应用程序实例及其底层的数据库和硬件资源服务于多个租户（或用户账户）。一个租户可以是单个用户，但更常见的是一组用户，例如一个客户组织，他们共享同一个应用程序实例。每个租户的数据与其他租户的数据相互隔离，彼此不可见，从而确保所有租户的数据安全和隐私。</p><h2 id=多租户架构的优势>多租户架构的优势</h2><h3 id=1-低成本>1. 低成本</h3><ul><li><strong>成本效益</strong>：软件提供商可以通过单一应用程序实例和基础设施为多个租户提供服务，租户共同分担软件维护、基础设施和数据中心运营的成本，因此持续成本通常低于单租户安排。SaaS软件通常以可预测的月度或年度订阅价格提供，价格基于用户数量、使用级别或应用程序中管理的数据量。</li></ul><h3 id=2-可伸缩性>2. 可伸缩性</h3><ul><li><strong>按需扩展</strong>：租户可以根据需求进行扩展，新用户可以访问相同的应用程序实例，通常只需增加相应的订阅费用。</li></ul><h3 id=3-无代码定制化>3. 无代码定制化</h3><ul><li><strong>高度可配置</strong>：SaaS多租户产品具有高度可配置性，每个租户客户无需昂贵、耗时且有时风险较高的定制开发，即可根据其特定业务需求定制应用程序。</li></ul><h3 id=4-持续更新与维护>4. 持续更新与维护</h3><ul><li><strong>持续更新</strong>：多租户软件提供商负责更新和补丁。新功能添加或修复应用无需客户参与，且只需更新一次（与单租户架构不同，提供商必须更新每个软件实例）。</li></ul><h3 id=5-提高生产率>5. 提高生产率</h3><ul><li><strong>专注核心业务</strong>：租户无需管理基础设施或软件，可以专注于更重要的任务，从而提高生产率。</li></ul><h2 id=多租户实现方式>多租户实现方式</h2><h3 id=red-hat-多租户实现>Red Hat 多租户实现</h3><p>Red Hat 使用以下三种方式实现多租户：</p><h4 id=1-应用层多租户>1. 应用层多租户</h4><ul><li><strong>应用层多租户</strong>：在应用程序级别实现多租户，通过逻辑隔离不同租户的数据和资源。</li></ul><h4 id=2-使用命名空间>2. 使用命名空间</h4><ul><li><strong>命名空间</strong>：命名空间将全局系统资源封装在一个抽象中，使其在命名空间内的进程看来，它们拥有全局资源的独立实例。对全局资源的更改对命名空间内的其他进程可见，但对其他进程不可见。命名空间的一个用途是实现容器。</li></ul><h4 id=3-集群层多租户>3. 集群层多租户</h4><ul><li><strong>集群层多租户</strong>：在集群级别实现多租户，通过物理隔离不同租户的资源和数据。</li></ul><h3 id=linux-命名空间>Linux 命名空间</h3><p>Linux 命名空间是一种操作系统层级的资源隔离技术，能够将 Linux 的全局资源划分为命名空间范围内的资源，不同命名空间间的资源彼此透明，不同命名空间里的进程无法感知到其他命名空间里面的进程和资源。Linux 命名空间实现了 6 项资源隔离，涵盖了一个小型操作系统的运行要素，包括主机名、用户权限、文件系统、网络、进程号、进程间通信。Linux 命名空间是操作系统虚拟化技术（如容器）的底层实现支撑。</p><p><a href=https://developers.redhat.com/articles/2022/05/09/approaches-implementing-multi-tenancy-saas-applications#using_application_logic_to_provide_multi_tenancy>Approaches to implementing multi-tenancy in SaaS applications</a>
<a href=https://man7.org/linux/man-pages/man7/namespaces.7.html>linux namespace</a></p></div><div class="list__footer clearfix"><a class="list__footer-readmore btn" href=/multi-tenant/>阅读全文…</a></div></article><article class="list__item post"><header class=list__header><h2 class="list__title post__title"><a href=/prompt-template/ rel=bookmark>Prompt 框架模版</a></h2><div class="list__meta meta"><div class="meta__item-datetime meta__item"><svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0C7 0 1 6 1 14s6 14 14 14 14-6 14-14S23 0 15 0zm0 25C9 25 4 20 4 14S9 3 15 3s11 5 11 11-5 11-11 11zm1-18h-2v8.4l6.8 4.4L22 18l-6-3.8V7z"/></svg><time class=meta__text datetime=2023-07-09T21:30:32+10:00>2023-07-09</time></div><div class="meta__item-categories meta__item"><svg class="meta__icon icon icon-category" width="16" height="16" viewBox="0 0 16 16"><path d="m7 2 1 2h8v11H0V2z"/></svg><span class=meta__text><a class=meta__link href=/categories/ai/ rel=category>AI</a>, <a class=meta__link href=/categories/tech/ rel=category>Tech</a></span></div></div></header><div class="content list__excerpt post__content clearfix"><h3 id=crispe>Crispe</h3><p><a href="https://link.juejin.cn/?target=https%3A%2F%2Fgithub.com%2Fmattnigh%2FChatGPT3-Free-Prompt-List">Matt Nigh</a> 的 CRISPE Framework，比较适合用于编写 prompt 模板。CRISPE 分别代表以下含义：</p><p>CR: Capacity and Role（能力与角色）。你希望 ChatGPT 扮演怎样的角色。</p><p>I:Insight（洞察力），背景信息和上下文（坦率的说我觉得用Context 更好）。</p><p>S： Statement（指令），你希望 ChatGPT 做什么。</p><p>P：Personality（个性），你希望 ChatGPT 以什么风格或方式回答你。</p><p>E：Experiment（尝试），要求 ChatGPT 为你提供多个答案。</p><p>以下是这几个参数的例子：</p><table><thead><tr><th>Step</th><th>Example</th></tr></thead><tbody><tr><td>Capacity and Role</td><td>Act as an expert on software development on the topic of machine learning frameworks, and an expert blog writer. 把你想象成机器学习框架主题的软件开发专家，以及专业博客作者。</td></tr><tr><td>Insight</td><td>The audience for this blog is technical professionals who are interested in learning about the latest advancements in machine learning. 这个博客的读者主要是有兴趣了解机器学习最新进展技术的专业人士。</td></tr><tr><td>Statement</td><td>Provide a comprehensive overview of the most popular machine learning frameworks, including their strengths and weaknesses. Include real-life examples and case studies to illustrate how these frameworks have been successfully used in various industries. 提供最流行的机器学习框架的全面概述，包括它们的优点和缺点。包括现实生活中的例子，和研究案例，以说明这些框架如何在各个行业中成功地被使用。</td></tr><tr><td>Personality</td><td>When responding, use a mix of the writing styles of Andrej Karpathy, Francois Chollet, Jeremy Howard, and Yann LeCun. 在回应时，混合使用 Andrej Karpathy、Francois Chollet、Jeremy Howard 和 Yann LeCun 的写作风格。</td></tr><tr><td>Experiment</td><td>Give me multiple different examples. 给我多个不同的例子。</td></tr></tbody></table><p>将所有的元素都组合在一起，就变成了这样的 prompt，对比基础 prompt 生成的结果会非常不一样。</p></div><div class="list__footer clearfix"><a class="list__footer-readmore btn" href=/prompt-template/>阅读全文…</a></div></article><article class="list__item post"><header class=list__header><h2 class="list__title post__title"><a href=/kafka-1/ rel=bookmark>Kafka 总结</a></h2><div class="list__meta meta"><div class="meta__item-datetime meta__item"><svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0C7 0 1 6 1 14s6 14 14 14 14-6 14-14S23 0 15 0zm0 25C9 25 4 20 4 14S9 3 15 3s11 5 11 11-5 11-11 11zm1-18h-2v8.4l6.8 4.4L22 18l-6-3.8V7z"/></svg><time class=meta__text datetime=2022-01-27T20:56:50+10:00>2022-01-27</time></div><div class="meta__item-categories meta__item"><svg class="meta__icon icon icon-category" width="16" height="16" viewBox="0 0 16 16"><path d="m7 2 1 2h8v11H0V2z"/></svg><span class=meta__text><a class=meta__link href=/categories/java/ rel=category>Java</a>, <a class=meta__link href=/categories/tech/ rel=category>Tech</a></span></div></div></header><div class="content list__excerpt post__content clearfix"><h3 id=consumer-是推还是拉>consumer 是推还是拉？</h3><p><a href=https://kafka.apache.org/documentation/#design_pull>https://kafka.apache.org/documentation/#design_pull</a>
kafka 生产者端生成消息推送（push）到 broker，消费者端从 broker 拉取（pull）消息。</p><p><strong>统一采用 pull 的方式？</strong>
boker 从生产者 pull 消息。在生产者数量庞大的场景下，broker 需要管理维护很多的关系，简直是梦魇。所以采用的是生产者往 broker push 消息。</p><p><strong>统一采用 push 的方式？</strong>
broker 往 consumer push 消息。在 consumer 多样化的场景下，如果生产者的生产速率远远大于消费者，broker 控制不好，push 会造成 consumer 不堪重负。反之，由 consumer 根据自身处理速率来决定何时从 broker 拉取消息，会更好。采用 pull 的弊端在于，如果 broker 没有消息，那么就会空转，这可以通过在调用 poll 接口时传入等待时间阻塞或者传入批次数据包大小来等待阻塞。</p><h3 id=kafka-的-ack-机制>kafka 的 ack 机制</h3><p>客户端连接到 leader broker 上，发送消息之后，等待或不等待 leader broker 的 ack（是否等待取决于参数<code>request.required.acks</code> 配置）。比如：
客户端设置 <code>acks=0</code>，客户端不作任何等待，即使消息没有写入 kafka 集群。
客户端设置 <code>acks=1</code>，客户端会等待 Leader 副本成功写入后返回的确认，但如果 Leader 副本在消息被同步到其他副本之前崩溃，消息可能会丢失。
客户端设置 <code>acks=all</code> 或 <code>acks=-1</code>参数，leader 在接收到客户端的消息之后，先写入日志文件，然后往同步副本（ISR）发送数据，等所有的 follower 都确认消息写入成功后，leader 再给客户端发送 ack 确认。</p></div><div class="list__footer clearfix"><a class="list__footer-readmore btn" href=/kafka-1/>阅读全文…</a></div></article><article class="list__item post"><header class=list__header><h2 class="list__title post__title"><a href=/hugo_newbie/ rel=bookmark>博客搬新家了！！！</a></h2><div class="list__meta meta"><div class="meta__item-datetime meta__item"><svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0C7 0 1 6 1 14s6 14 14 14 14-6 14-14S23 0 15 0zm0 25C9 25 4 20 4 14S9 3 15 3s11 5 11 11-5 11-11 11zm1-18h-2v8.4l6.8 4.4L22 18l-6-3.8V7z"/></svg><time class=meta__text datetime=2021-07-03T00:06:32+10:00>2021-07-03</time></div><div class="meta__item-categories meta__item"><svg class="meta__icon icon icon-category" width="16" height="16" viewBox="0 0 16 16"><path d="m7 2 1 2h8v11H0V2z"/></svg><span class=meta__text><a class=meta__link href=/categories/diary/ rel=category>Diary</a>, <a class=meta__link href=/categories/tech/ rel=category>Tech</a></span></div></div></header><div class="content list__excerpt post__content clearfix"><p>将博客生成器从原来的 Hexo 换成了 <a href=https://gohugo.io>Hugo</a>。</p><p><strong>特别感谢闫博推荐 Hugo 这个静态网站生成器并提供 <a href=https://www.yanboyang.com/hugo/>技术支持</a>！</strong></p></div><div class="list__footer clearfix"><a class="list__footer-readmore btn" href=/hugo_newbie/>阅读全文…</a></div></article><article class="list__item post"><header class=list__header><h2 class="list__title post__title"><a href=/docker-base-use/ rel=bookmark>Docker 使用</a></h2><div class="list__meta meta"><div class="meta__item-datetime meta__item"><svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0C7 0 1 6 1 14s6 14 14 14 14-6 14-14S23 0 15 0zm0 25C9 25 4 20 4 14S9 3 15 3s11 5 11 11-5 11-11 11zm1-18h-2v8.4l6.8 4.4L22 18l-6-3.8V7z"/></svg><time class=meta__text datetime=2020-07-07T22:15:32+10:00>2020-07-07</time></div><div class="meta__item-categories meta__item"><svg class="meta__icon icon icon-category" width="16" height="16" viewBox="0 0 16 16"><path d="m7 2 1 2h8v11H0V2z"/></svg><span class=meta__text><a class=meta__link href=/categories/docker/ rel=category>Docker</a>, <a class=meta__link href=/categories/tech/ rel=category>Tech</a></span></div></div></header><div class="content list__excerpt post__content clearfix"><p>通过 Docker 命令行工具与 Docker Daemon 进程通讯使用。</p><h2 id=使用步骤>使用步骤</h2><ol><li><strong>安装 Docker 到宿主机（物理机）</strong></li><li><strong>到仓库拉取镜像</strong><br><a href=https://hub.docker.com>https://hub.docker.com</a></li><li><strong>运行镜像产生容器（实例，一个镜像可以运行多个）</strong></li></ol><h2 id=镜像操作>镜像操作</h2><h3 id=搜索镜像>搜索镜像</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>docker search imageName
</span></span></code></pre></div><h3 id=拉取镜像>拉取镜像</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>docker pull imageName:tag
</span></span></code></pre></div><ul><li><code>tag</code> 版本号，如不指定默认是 <code>latest</code></li></ul><h3 id=查看本地镜像>查看本地镜像</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>docker images
</span></span></code></pre></div><h3 id=删除镜像>删除镜像</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>docker rmi imageID
</span></span><span style=display:flex><span>docker rmi <span style=color:#f92672>[</span>repositoryname<span style=color:#f92672>]</span>:<span style=color:#f92672>[</span>tag<span style=color:#f92672>]</span>
</span></span></code></pre></div><h3 id=删除所有未加标签的镜像untagged>删除所有未加标签的镜像(untagged)</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>docker rmi <span style=color:#66d9ef>$(</span>docker images | grep <span style=color:#e6db74>&#34;^&lt;none&gt;&#34;</span> | awk <span style=color:#e6db74>&#34;{print </span>$3<span style=color:#e6db74>}&#34;</span><span style=color:#66d9ef>)</span>
</span></span></code></pre></div><h3 id=重命名镜像>重命名镜像</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>docker tag imageId imageName:tag
</span></span></code></pre></div><h3 id=通过本地-dockerfile-文件编译镜像文件>通过本地 Dockerfile 文件编译镜像文件</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>docker build -t mop:latest - &lt; mopDockerfile
</span></span></code></pre></div><h2 id=容器操作>容器操作</h2><h3 id=进入容器>进入容器</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo docker exec -it ubuntu bash
</span></span><span style=display:flex><span>docker exec -it ardupilot bash
</span></span></code></pre></div><h3 id=查看容器>查看容器</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>docker ps -a
</span></span></code></pre></div><ul><li><code>-a</code>：所有容器，包括停止的</li><li><code>-q</code>：查看停止的容器，不加选项默认查看运行中的容器</li></ul><h3 id=保存容器>保存容器</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo docker save ubuntu &gt; ubuntu_save.tar
</span></span></code></pre></div><h3 id=合并多个容器为一个文件>合并多个容器为一个文件</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo docker save -o images.tar postgres:9.0 mongo:3.4
</span></span></code></pre></div><h3 id=导出容器或镜像>导出容器或镜像</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo docker export ubuntu &gt; ubuntu_export.tar
</span></span></code></pre></div><h3 id=加载容器>加载容器</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo docker load &lt; ubuntu_save.tar
</span></span></code></pre></div><h3 id=导入容器>导入容器</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>cat ubuntu_export.tar | sudo docker import - ubuntu:18.04
</span></span></code></pre></div><h3 id=启动或停止容器>启动或停止容器</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>docker start/stop container-name/container-id
</span></span></code></pre></div><h3 id=容器日志>容器日志</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>docker logs container-name/container-id
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>docker logs -f -t --since<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;2020-10-20&#34;</span> --tail<span style=color:#f92672>=</span><span style=color:#ae81ff>10</span> container-name/container-id
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>docker logs <span style=color:#f92672>[</span>OPTIONS<span style=color:#f92672>]</span> CONTAINER
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Options:
</span></span><span style=display:flex><span>  --details        显示更多的信息
</span></span><span style=display:flex><span>  -f, --follow     实时输出日志，最后一行为当前时间戳的日志
</span></span><span style=display:flex><span>  --since string   输出日志开始日期，即只输出指定日期之后的日志。
</span></span><span style=display:flex><span>  --tail string    显示最后多少行日志，默认是all
</span></span><span style=display:flex><span>                   （如： -tail<span style=color:#f92672>=</span><span style=color:#ae81ff>10</span> : 查看最后的 <span style=color:#ae81ff>10</span> 行日志。） 
</span></span><span style=display:flex><span>  -t, --timestamps 显示时间戳
</span></span></code></pre></div><h3 id=镜像重命名>镜像重命名</h3><ul><li><code>docker import</code> 可以</li><li><code>docker load</code> 不可以</li></ul><h3 id=将多个镜像打包到一个文件中>将多个镜像打包到一个文件中</h3><ul><li><code>docker export</code> 不支持</li><li><code>docker save</code> 支持</li></ul><h3 id=删除容器>删除容器</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>docker rm containerid
</span></span></code></pre></div><h3 id=删除所有已停止运行的容器stopped>删除所有已停止运行的容器(stopped)</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>docker rm <span style=color:#66d9ef>$(</span>docker ps -a -q<span style=color:#66d9ef>)</span>
</span></span></code></pre></div><h3 id=查看容器信息>查看容器信息</h3><h4 id=宿主机上>宿主机上</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>docker inspect containerId
</span></span></code></pre></div><h4 id=容器内部>容器内部</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>ps -fe
</span></span></code></pre></div><h2 id=运行>运行</h2><h3 id=运行镜像>运行镜像</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>docker run --name container-name -d imageName
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>docker run -itd --name myubuntu ubuntu:latest /bin/bash
</span></span></code></pre></div><blockquote><p>注意查看官方文档推荐的启动实例，指定一些初始化的配置参数，否则可能初始化失败直接退出。例如 MySQL 官方示例，挂载本地配置文件到 Docker 容器内部。</p></div><div class="list__footer clearfix"><a class="list__footer-readmore btn" href=/docker-base-use/>阅读全文…</a></div></article><article class="list__item post"><header class=list__header><h2 class="list__title post__title"><a href=/lombok/ rel=bookmark>Lombok</a></h2><div class="list__meta meta"><div class="meta__item-datetime meta__item"><svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0C7 0 1 6 1 14s6 14 14 14 14-6 14-14S23 0 15 0zm0 25C9 25 4 20 4 14S9 3 15 3s11 5 11 11-5 11-11 11zm1-18h-2v8.4l6.8 4.4L22 18l-6-3.8V7z"/></svg><time class=meta__text datetime=2020-04-30T19:10:32+01:00>2020-04-30</time></div><div class="meta__item-categories meta__item"><svg class="meta__icon icon icon-category" width="16" height="16" viewBox="0 0 16 16"><path d="m7 2 1 2h8v11H0V2z"/></svg><span class=meta__text><a class=meta__link href=/categories/java/ rel=category>Java</a>, <a class=meta__link href=/categories/tech/ rel=category>Tech</a></span></div></div></header><div class="content list__excerpt post__content clearfix"><h2 id=介绍>介绍</h2><p><code>Lombok</code> 是提升 Java 编码效率常用的工具，借助它开发人员可以使用注解来自动生成一些模版代码。比如 <code>getter</code>、<code>setter</code>、<code>equals</code>、<code>toString</code> 等方法。</p><h2 id=安装>安装</h2><h3 id=在-maven-中添加依赖>在 maven 中添加依赖</h3><pre tabindex=0><code>&lt;dependency&gt;
    &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;
    &lt;artifactId&gt;lombok&lt;/artifactId&gt;
    &lt;version&gt;1.18.4&lt;/version&gt;
    &lt;scope&gt;provided&lt;/scope&gt;
&lt;/dependency&gt;
</code></pre><h3 id=在编辑器中添加插件>在编辑器中添加插件</h3><p>如：Intellij Idea，在 setting 的 plugin 里搜索lombok plugin，安装插件</p><h2 id=使用>使用</h2><p><strong>常用的几个注解</strong></p><p>@Data ：注在类上，自动生成类的 get、set、equals、hashCode、canEqual、toString 方法</p><p>@AllArgsConstructor ：注在类上，自动生成类的全参构造方法</p><p>@NoArgsConstructor ：注在类上，自动生成类的无参构造</p><p>@Setter ：注在属性上，自动生成 set 方法</p><p>@Getter ：注在属性上，自动生成 get 方法</p><p>@EqualsAndHashCode ：注在类上，自动生成对应的 equals 和 hashCode 方法</p><p>@Log4j/@Slf4j ：注在类上，自动生成对应的 Logger 对象，变量名为 log</p><p>@Cleanup(&ldquo;close&rdquo;)：注在本地变量上，自动释放资源（如：关闭 InputStream）</p><p>@Synchronized：注在方法上，自动生成一个私有锁变量</p><p>@SneakyThrows：自动生成异常处理语句</p><blockquote><p><strong>注意继承关系中使用 Lombok</strong> <code>@EqualsAndHashCode</code> 与 <code>@ToString</code> 注解默认情况下忽略父类的成员变量。譬如打印时 <code>toString</code> 返回的结果中缺少父类的成员变量，解决办法是在注解中设置 <code>callSuper</code> 属性为 <code>true</code>， <code>@ToString(callSuper = true)</code> 、<code>@EqualsAndHashCode(callsuper = true)</code>。</p></div><div class="list__footer clearfix"><a class="list__footer-readmore btn" href=/lombok/>阅读全文…</a></div></article><article class="list__item post"><header class=list__header><h2 class="list__title post__title"><a href=/jwt/ rel=bookmark>Json Web Token</a></h2><div class="list__meta meta"><div class="meta__item-datetime meta__item"><svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0C7 0 1 6 1 14s6 14 14 14 14-6 14-14S23 0 15 0zm0 25C9 25 4 20 4 14S9 3 15 3s11 5 11 11-5 11-11 11zm1-18h-2v8.4l6.8 4.4L22 18l-6-3.8V7z"/></svg><time class=meta__text datetime=2019-10-09T22:15:32+10:00>2019-10-09</time></div><div class="meta__item-categories meta__item"><svg class="meta__icon icon icon-category" width="16" height="16" viewBox="0 0 16 16"><path d="m7 2 1 2h8v11H0V2z"/></svg><span class=meta__text><a class=meta__link href=/categories/web/ rel=category>Web</a>, <a class=meta__link href=/categories/tech/ rel=category>Tech</a></span></div></div></header><div class="content list__excerpt post__content clearfix"></div><div class="list__footer clearfix"><a class="list__footer-readmore btn" href=/jwt/>阅读全文…</a></div></article><article class="list__item post"><header class=list__header><h2 class="list__title post__title"><a href=/ios-wvjb-sc-analyse/ rel=bookmark>WebViewJavascriptBridge 源码剖析</a></h2><div class="list__meta meta"><div class="meta__item-datetime meta__item"><svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0C7 0 1 6 1 14s6 14 14 14 14-6 14-14S23 0 15 0zm0 25C9 25 4 20 4 14S9 3 15 3s11 5 11 11-5 11-11 11zm1-18h-2v8.4l6.8 4.4L22 18l-6-3.8V7z"/></svg><time class=meta__text datetime=2018-12-20T22:21:48+10:00>2018-12-20</time></div><div class="meta__item-categories meta__item"><svg class="meta__icon icon icon-category" width="16" height="16" viewBox="0 0 16 16"><path d="m7 2 1 2h8v11H0V2z"/></svg><span class=meta__text><a class=meta__link href=/categories/ios/ rel=category>IOS</a>, <a class=meta__link href=/categories/tech/ rel=category>Tech</a></span></div></div></header><div class="content list__excerpt post__content clearfix"><p><strong>WebViewJavascriptBridge</strong> 是一个可以让 OC 与 JS 进行交互通信的第三方开源库。相比其他热门的第三方库，WebViewJavascriptBridge 代码量比较少，并且设计优雅巧妙，可以说是 “小而美”。</p><p>WebViewJavascriptBridge 库在 OC 端和 JS 端都有对等的逻辑实现，事先注册 handler，内部维护一个消息队列。透明的 <code>iframe</code> HTML 元素和 webview 的 <code>stringByEvaluatingJavaScriptFromString</code> 是通信的关键。OC 端发消息给 JS 端比较直观，调起 <code>stringByEvaluatingJavaScriptFromString</code> 执行脚本传入消息即可。JS 端发消息给 OC 端，需要事先把消息存到队列中，然后借助 iframe 发起一个伪请求，伪请求会被 webview 的代理方法拦截下来，OC 端因此得知 JS 端消息队列中有消息，最后调起 <code>stringByEvaluatingJavaScriptFromString</code> 方法解析 JS 方法拿到队列中的消息并处理。交互流程见下图：</p><p><img src=https://res.cloudinary.com/dtbpgyfsc/image/upload/v1625297150/web/webviewjsbridge_z8kdpc.jpg alt=wbjb-sc-analyse-001></p><p>整个库只有以下几个文件：</p><pre tabindex=0><code>WebViewJavascriptBridge.h
WebViewJavascriptBridge.m
WKWebViewJavascriptBridge.h 
WKWebViewJavascriptBridge.m
WebViewJavascriptBridgeBase.h
WebViewJavascriptBridgeBase.m
WebViewJavascriptBridge_JS.h
WebViewJavascriptBridge_JS.m
</code></pre><p>一般使用只需要关注 <code>WebViewJavascriptBridge</code> 类提供的接口，这个类的主要职责是用来做 Mac 和 iOS webview 的适配（包括 WKWebView，但是这部分代理出去给 WKWebViewJavaScriptBridge 类）并为客户端提供便利的使用接口。<code>WebViewJavascriptBridgeBase</code> 类负责有关数据加工、消息队列管理、消息派发及回调的处理工作。<code>WebViewJavascriptBridge_JS</code> 类包含 JS 端的实现代码，通过宏处理返回 JS 端实现代码的一个 OC 字符串，便于在适当时机将其注入到文档模型中完成 bridge 的初始化。</p></div><div class="list__footer clearfix"><a class="list__footer-readmore btn" href=/ios-wvjb-sc-analyse/>阅读全文…</a></div></article><div class=pagination><span class="pagination__item pagination__item--current">1/3</span>
<a class="pagination__item pagination__item--next btn" href=/page/2/>»</a></div></main></div><aside class="sidebar sidebar--left"><div class="widget-search widget"><form class=widget-search__form role=search method=get action=https://google.com/search><label><input class=widget-search__field type=search placeholder=搜索... name=q aria-label=搜索...>
</label><input class=widget-search__submit type=submit value=Search>
<input type=hidden name=sitesearch value=https://redscarf.me/></form></div><div class="widget-recent widget"><h4 class=widget__title>近期文章</h4><div class=widget__content><ul class=widget__list><li class=widget__item><a class=widget__link href=/economy-fp-hsbc/>付鹏11月24日在HSBC内部演讲速记</a></li><li class=widget__item><a class=widget__link href=/db-dynamic-column/>数据库的动态列</a></li><li class=widget__item><a class=widget__link href=/multi-tenant/>多租户</a></li><li class=widget__item><a class=widget__link href=/prompt-template/>Prompt 框架模版</a></li><li class=widget__item><a class=widget__link href=/kafka-1/>Kafka 总结</a></li></ul></div></div><div class="widget-categories widget"><h4 class=widget__title>分类</h4><div class=widget__content><ul class=widget__list><li class=widget__item><a class=widget__link href=/categories/ai/>AI</a></li><li class=widget__item><a class=widget__link href=/categories/android/>Android</a></li><li class=widget__item><a class=widget__link href=/categories/c/>C</a></li><li class=widget__item><a class=widget__link href=/categories/db/>DB</a></li><li class=widget__item><a class=widget__link href=/categories/diary/>Diary</a></li><li class=widget__item><a class=widget__link href=/categories/docker/>Docker</a></li><li class=widget__item><a class=widget__link href=/categories/ios/>IOS</a></li><li class=widget__item><a class=widget__link href=/categories/java/>Java</a></li><li class=widget__item><a class=widget__link href=/categories/news/>News</a></li><li class=widget__item><a class=widget__link href=/categories/tech/>Tech</a></li><li class=widget__item><a class=widget__link href=/categories/web/>Web</a></li><li class=widget__item><a class=widget__link href=/categories/%E7%BF%BB%E8%AF%91/>翻译</a></li><li class=widget__item><a class=widget__link href=/categories/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/>读书笔记</a></li></ul></div></div><div class="widget-taglist widget"><h4 class=widget__title>标签</h4><div class=widget__content><a class="widget-taglist__link widget__link btn" href=/tags/android/ title=Android>Android (2)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/arc/ title=ARC>ARC (1)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/autolayout/ title=AutoLayout>AutoLayout (1)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/block/ title=Block>Block (1)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/bluetooth/ title=Bluetooth>Bluetooth (1)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/c/ title=C>C (1)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/chatgpt/ title=ChatGPT>ChatGPT (1)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/container/ title=Container>Container (1)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/db/ title=DB>DB (1)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/devops/ title=Devops>Devops (1)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/diary/ title=Diary>Diary (1)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/docker/ title=Docker>Docker (1)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/dynamic/ title=Dynamic>Dynamic (1)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/economy/ title=Economy>Economy (1)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/gcd/ title=GCD>GCD (1)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/gradle/ title=Gradle>Gradle (1)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/hook/ title=Hook>Hook (1)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/ios/ title=IOS>IOS (13)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/java/ title=Java>Java (1)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/javascript/ title=JavaScript>JavaScript (1)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/kafka/ title=Kafka>Kafka (1)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/management/ title=Management>Management (1)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/mariadb/ title=Mariadb>Mariadb (1)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/multi-tenant/ title=Multi-Tenant>Multi-Tenant (1)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/mysql/ title=MySQL>MySQL (1)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/nginx/ title=Nginx>Nginx (1)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/notification/ title=Notification>Notification (1)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/plugin/ title=Plugin>Plugin (1)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/privacy/ title=Privacy>Privacy (1)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/prompt/ title=Prompt>Prompt (1)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/python/ title=Python>Python (1)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/saas/ title=SAAS>SAAS (1)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/security/ title=Security>Security (2)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/terminology/ title=Terminology>Terminology (1)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/token/ title=Token>Token (1)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/tool/ title=Tool>Tool (1)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/web/ title=Web>Web (2)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/webview/ title=WebView>WebView (1)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/%E4%B8%AD%E9%97%B4%E4%BB%B6/ title=中间件>中间件 (1)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/%E6%BA%90%E7%A0%81%E5%89%96%E6%9E%90/ title=源码剖析>源码剖析 (1)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/%E7%BF%BB%E8%AF%91/ title=翻译>翻译 (2)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/ title=读书笔记>读书笔记 (1)</a>
<a class="widget-taglist__link widget__link btn" href=/tags/%E8%BD%AC%E8%BD%BD/ title=转载>转载 (1)</a></div></div><div class="widget-social widget"><h4 class="widget-social__title widget__title">社交</h4><div class="widget-social__content widget__content"><div class="widget-social__item widget__item"><a class="widget-social__link widget__link btn" title=GitHub rel="noopener noreferrer" href=https://github.com/iCocoa target=_blank><svg class="widget-social__link-icon icon icon-github" width="24" height="24" viewBox="0 0 384 374"><path d="m192 0C85.9.0.0 85.8.0 191.7c0 84.7 55 156.6 131.3 181.9 9.6 1.8 13.1-4.2 13.1-9.2.0-4.6-.2-16.6-.3-32.6-53.4 11.6-64.7-25.7-64.7-25.7-8.7-22.1-21.3-28-21.3-28-17.4-11.9 1.3-11.6 1.3-11.6 19.3 1.4 29.4 19.8 29.4 19.8 17.1 29.3 44.9 20.8 55.9 15.9 1.7-12.4 6.7-20.8 12.2-25.6-42.6-4.8-87.5-21.3-87.5-94.8.0-20.9 7.5-38 19.8-51.4-2-4.9-8.6-24.3 1.9-50.7.0.0 16.1-5.2 52.8 19.7 15.3-4.2 31.7-6.4 48.1-6.5 16.3.1 32.7 2.2 48.1 6.5 36.7-24.8 52.8-19.7 52.8-19.7 10.5 26.4 3.9 45.9 1.9 50.7 12.3 13.4 19.7 30.5 19.7 51.4.0 73.7-44.9 89.9-87.7 94.6 6.9 5.9 13 17.6 13 35.5.0 25.6-.2 46.3-.2 52.6.0 5.1 3.5 11.1 13.2 9.2C329 348.2 384 276.4 384 191.7 384 85.8 298 0 192 0z"/></svg>
<span>GitHub</span></a></div><div class="widget-social__item widget__item"><a class="widget-social__link widget__link btn" title=Email href=mailto:whs543@sina.com><svg class="widget-social__link-icon icon icon-mail" width="24" height="24" viewBox="0 0 416 288"><path d="m0 16v256 16h16 384 16v-16V16 0h-16H16 0zm347 16-139 92.5L69 32zM199 157.5l9 5.5 9-5.5L384 46v210H32V46z"/></svg>
<span>whs543@sina.com</span></a></div></div></div></aside></div><footer class=footer><div class="container footer__container flex"><div class=footer__copyright>&copy; 2024 Haisheng Wu.
<span class=footer__copyright-credits>基于 <a href=https://gohugo.io/ rel="nofollow noopener" target=_blank>Hugo</a> 引擎和 <a href=https://github.com/pfadfinder-konstanz/hugo-dpsg/ rel="nofollow noopener" target=_blank>DPSG</a>主題</span>
<span><a href=/imprint>Imprint and Privacy</a></span></div><div class=footer__copyright>Donate!</div></div></footer><script async defer src=/js/menu.js></script><script src=/js/custom.js></script></body></html>